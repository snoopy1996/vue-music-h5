webpackJsonp([2],{E51W:function(t,e){},Mczq:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={name:"audio-ctr",data:function(){return{}},mounted:function(){console.log("挂载播放器----audioCtr");var t=document.getElementById("app-audio");this.$store.commit("setAudioElement",t)},computed:{getCurrentSrc:function(){}},methods:{musicCanPlay:function(){this.$store.dispatch({type:"set_MusicDuration",duration:Math.floor(this.$refs.audio.duration)})},playEnded:function(){console.log("歌曲播放结束了"),this.$store.commit("playEnded")}}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("audio",{ref:"audio",attrs:{id:"app-audio",autoplay:"autoplay"},on:{canplay:this.musicCanPlay,ended:this.playEnded}})},staticRenderFns:[]},r=n("VU/8")(a,o,!1,function(t){n("vdw8")},"data-v-37796bda",null).exports,s={name:"app",components:{audioCtr:r}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("audio-ctr"),this._v(" "),e("router-view")],1)},staticRenderFns:[]},l=n("VU/8")(s,u,!1,function(t){n("jb+3")},null,null).exports,c=n("/ocq"),d=new i.default,m={components:{},data:function(){return{active:1}},created:function(){},methods:{headerPageToggle:function(){d.$emit("drawerToggle",{drawerBoo:!0})}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mu-appbar",{attrs:{color:"#E5463B"}},[n("mu-button",{attrs:{slot:"left",icon:""},on:{click:function(e){t.headerPageToggle()}},slot:"left"},[n("mu-icon",{attrs:{value:"menu"}})],1),t._v(" "),n("mu-tabs",{attrs:{slot:"default",value:t.active,"indicator-color":"rgba(1,1,1,0)",center:""},on:{"update:value":function(e){t.active=e}},slot:"default"},[n("mu-tab",[n("i",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),n("mu-tab",[n("i",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),n("mu-tab",[n("i",{staticClass:"iconfont"},[t._v("")])])],1),t._v(" "),n("mu-button",{attrs:{slot:"right",icon:""},slot:"right"},[n("mu-icon",{attrs:{value:"search"}})],1)],1)},staticRenderFns:[]},g=n("VU/8")(m,p,!1,function(t){n("VC3l")},"data-v-169c6f22",null).exports,h=[{index:1,data:[{title:"我的消息",icon:"confirmation_number"},{title:"会员中心",icon:"person"},{title:"商城",icon:"add_shopping_cart"},{title:"在线听歌免流量",icon:"event"}]},{index:2,data:[{title:"我的好友",icon:"message"},{title:"附近的人",icon:"room"}]},{index:3,data:[{title:"听歌识曲",icon:"hearing"},{title:"扫一扫",icon:"album"}]}],f={components:{},data:function(){return{open:!1,docked:!1,pageTitle:"",menuList:h,size:64}},created:function(){var t=this;d.$on("drawerToggle",function(){t.open=!t.open})},methods:{drawerPageToggle:function(){this.open=!this.open}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mu-drawer",{attrs:{open:t.open,docked:t.docked,width:"300"},on:{close:function(e){t.drawerPageToggle()}}},[n("div",{staticClass:"user-info-box"},[n("mu-avatar",{attrs:{size:t.size}},[n("img",{attrs:{src:"https://ws1.sinaimg.cn/large/0064OUUqly1fs5u8y5jn8j308c08bta3.jpg"}})]),t._v(" "),n("div",{staticClass:"user-other"},[n("div",[t._v("\n          忍把浮名换此生\n          "),n("mu-chip",{staticClass:"chip-drawer"},[t._v("\n            LV.1\n          ")])],1),t._v(" "),n("mu-chip",{staticClass:"chip-drawer"},[t._v("\n          签到\n        ")])],1)],1),t._v(" "),t._l(t.menuList,function(e){return n("div",{key:e.index},[n("mu-list",t._l(e.data,function(e){return n("mu-list-item",{key:e.title,attrs:{button:""}},[n("mu-list-item-action",[n("mu-icon",{attrs:{value:e.icon}})],1),t._v(" "),n("mu-list-item-title",[t._v(t._s(e.title))])],1)})),t._v(" "),n("mu-divider")],1)})],2)],1)},staticRenderFns:[]},y=n("VU/8")(f,v,!1,function(t){n("wjBU")},"data-v-47f5a04c",null).exports,_={name:"music-play",props:{openFullscreenProp:{type:Boolean,default:!1}},data:function(){return{songName:"JUST LIKE THIS",musicImg:"http://p1.music.126.net/ZDUo6vF_5ykD6E_08HE1kw==/3385396303317256.jpg",showWords:!1,sliderValue:0,centerIcon:"play_circle_outline",isPlaying:!1,animationPlayState:"paused",timer:null,indicatorAnimation:{animationDirection:"normal",animationPlayState:"paused",animationName:"reverseIndicator"},allLength:0}},computed:{getOpenFullscreenProp:function(){return this.openFullscreenProp},setSongPlaying:function(){return this.isPlaying=this.$store.state.playing,this.changeAnimation(),this.$store.state.playing},getAllLength:function(){return 1e3*this.$store.state.musicDuration},currentSong:function(){return this.$store.state.currentSong}},watch:{isPlaying:function(t){console.log(t),!0===t?this.getSliderValue():window.clearTimeout()}},mounted:function(){console.log(this.getCurrentTime)},methods:{shareSong:function(){},changeValue:function(t){this.sliderValue=t,this.$store.dispatch({type:"set_CurrentTime",time:t})},getSliderValue:function(){var t=this,e=this.$store.state.audioelement;this.sliderValue=e.currentTime?e.currentTime:0,setTimeout(function(){t.getSliderValue()},1e3)},changeAnimation:function(){this.centerIcon=this.$store.state.playing?"pause_circle_outline":"play_circle_outline",this.indicatorAnimation.animationPlayState="running",this.$store.state.playing?(this.animationPlayState="running",this.indicatorAnimation.animationName="reverseIndicator"):(this.animationPlayState="paused",this.indicatorAnimation.animationName="goIndicator")},playPauseSong:function(){this.$store.state.playing?this.$store.commit("pause"):this.$store.commit("play")},closeFullscreenDialog:function(){this.$emit("closeMusicPlayView","closeMusicPlayView")}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mu-dialog",{staticClass:"music-view-box",attrs:{width:"360",transition:"slide-right",fullscreen:"",open:t.getOpenFullscreenProp},on:{"update:open":function(e){t.getOpenFullscreenProp=e}}},[i("mu-appbar",{staticStyle:{position:"fixed",width:"100vw"},attrs:{title:t.currentSong.name,color:"rgba(229,70,59,0)"}},[i("mu-button",{attrs:{slot:"left",icon:""},on:{click:t.closeFullscreenDialog},slot:"left"},[i("mu-icon",{attrs:{value:"keyboard_arrow_left"}})],1),t._v(" "),i("mu-button",{attrs:{slot:"right",icon:""},on:{click:t.shareSong},slot:"right"},[i("mu-icon",{attrs:{value:"share"}})],1)],1),t._v(" "),i("div",{staticClass:"player-main"},[i("div",{style:"background-image: url("+t.currentSong.img+")",attrs:{id:"bgImg"}}),t._v(" "),i("div",{style:t.indicatorAnimation,attrs:{id:"indicator"}},[i("img",{attrs:{src:n("vHp9")}})]),t._v(" "),i("div",{style:"background-image: url("+t.currentSong.img+");animation-play-state: "+t.animationPlayState+";",attrs:{id:"cd-box"}},[i("img",{attrs:{src:n("gpQL"),width:"100%",height:"100%;"}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showWords,expression:"showWords"}],staticClass:"song-words-box"},t._l(12,function(e){return i("div",{key:e},[t._v("\n        dhawuodhwaduahduhawduoawdhawuodh\n      ")])}))]),t._v(" "),i("div",{staticClass:"play-bottom-options"},[i("div"),t._v(" "),i("div",{staticClass:"slider-box"},[i("div",{staticClass:"current-time"},[t._v(t._s(t._f("formatDate")(1e3*t.sliderValue,"mm:ss")))]),t._v(" "),i("mu-slider",{staticClass:"time-slider",attrs:{"display-value":!1,max:t.getAllLength/1e3,step:1,color:"parmiry"},on:{change:t.changeValue},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}}),t._v(" "),i("div",{staticClass:"all-time"},[t._v(t._s(t._f("formatDate")(t.getAllLength,"mm:ss")))])],1),t._v(" "),i("div",{staticClass:"option-box"},[i("div",[i("mu-button",{attrs:{icon:"",color:"rgba(255, 255, 255, 0.8)",large:""}},[i("mu-icon",{attrs:{value:"loop",size:32}})],1)],1),t._v(" "),i("div",[i("mu-button",{attrs:{icon:"",color:"rgba(255, 255, 255, 0.8)",large:""}},[i("mu-icon",{attrs:{value:"skip_previous",size:32}})],1)],1),t._v(" "),i("div",[i("mu-button",{attrs:{icon:"",color:"rgba(255, 255, 255, 0.8)",large:""},on:{click:t.playPauseSong}},[i("mu-icon",{attrs:{value:t.centerIcon,size:42}})],1)],1),t._v(" "),i("div",[i("mu-button",{attrs:{icon:"",color:"rgba(255, 255, 255, 0.8)",large:""}},[i("mu-icon",{attrs:{value:"skip_next",size:32}})],1)],1),t._v(" "),i("div",[i("mu-button",{attrs:{icon:"",color:"rgba(255, 255, 255, 0.8)",large:""}},[i("mu-icon",{attrs:{value:"queue_music",size:32}})],1)],1)])]),t._v(" "),i("div",{staticStyle:{opacity:"0"}},[t._v(t._s(t.setSongPlaying))])],1)},staticRenderFns:[]},w={name:"botm-sheet",components:{MusicPlayView:n("VU/8")(_,b,!1,function(t){n("Mczq")},null,null).exports},data:function(){return{openFullscreenProp:!1}},computed:{getPlayBtnIcon:function(){return this.$store.state.playing?"pause_circle_outline":"play_circle_outline"},currentSong:function(){return this.$store.state.currentSong}},methods:{openMusicPlayView:function(){this.openFullscreenProp=!0},closeMusicPlayView:function(){this.openFullscreenProp=!1},openSongList:function(){},playSong:function(){this.$store.state.playing?this.$store.commit("pause"):this.$store.commit("play")}}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mu-paper",{directives:[{name:"show",rawName:"v-show",value:t.currentSong.name.length>0,expression:"currentSong.name.length > 0"}],staticClass:"bottom-music-box",attrs:{"z-depth":3},on:{click:function(e){e.stopPropagation(),t.openMusicPlayView(e)}}},[n("div",[n("img",{attrs:{src:t.currentSong.img,width:"45px",height:"45px"}}),t._v(" "),n("div",{staticClass:"song-info"},[n("div",{staticClass:"song-name"},[t._v(t._s(t.currentSong.name))]),t._v(" "),n("div",{staticClass:"songer"},[t._v(t._s(t.currentSong.singer.name))])])]),t._v(" "),n("div",[n("mu-button",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.playSong(e)}}},[n("mu-icon",{attrs:{value:t.getPlayBtnIcon}})],1),t._v(" "),n("mu-button",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.openSongList(e)}}},[n("mu-icon",{attrs:{value:"queue_music"}})],1)],1)]),t._v(" "),n("music-play-view",{attrs:{openFullscreenProp:t.openFullscreenProp},on:{closeMusicPlayView:t.closeMusicPlayView,openMusicPlayView:t.openMusicPlayView}})],1)},staticRenderFns:[]},x={components:{headerM:g,drawer:y,botmSheet:n("VU/8")(w,S,!1,function(t){n("PIUZ")},"data-v-1211f235",null).exports},created:function(){},mounted:function(){}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("header-m"),this._v(" "),e("drawer"),this._v(" "),e("router-view"),this._v(" "),e("botm-sheet")],1)},staticRenderFns:[]},I=n("VU/8")(x,P,!1,function(t){n("kdwH")},"data-v-1c073830",null).exports;i.default.use(c.a);var $=new c.a({routes:[{path:"/",name:"Home",component:I,children:[{path:"/dashboard",component:function(t){return n.e(0).then(function(){return t(n("1QUN"))}.bind(null,n)).catch(n.oe)}}],redirect:"/dashboard"}]}),C=n("NYxO"),T={play:function(t){t.playing=!0,t.audioelement.play()},pause:function(t){t.playing=!1,t.audioelement.pause()},setAudioElement:function(t,e){console.log("挂载播放器"),t.audioelement=e},setSong:function(t,e){t.currentSong.name=e.name,t.currentSong.singer=e.ar[0],t.currentSong.img=e.al.picUrl},setMusicDetail:function(t,e){t.showMusicDetail=e},setShowSongSheet:function(t,e){t.showSongSheet=e},setPlayType:function(t){3===t.playType?t.playType=1:t.playType++},playNext:function(t){t.currentIndex++;var e=t.musicList.length;t.currentIndex>=e&&(t.currentIndex=0),t.audioelement.setAttribute("src",t.musicList[t.currentIndex].url),t.playing=!0,t.audioelement.load(),t.audioelement.play()},playPrev:function(t){t.currentIndex--;var e=t.musicList.length;t.currentIndex<0&&(t.currentIndex=e-1),t.audioelement.setAttribute("src",t.musicList[t.currentIndex].url),t.playing=!0,t.audioelement.load(),t.audioelement.play()},setPlaySongTest:function(t,e){t.audioelement.setAttribute("src",e),t.playing=!0},playIndex:function(t,e){t.currentIndex=e.index,t.audioelement.setAttribute("src",t.musicList[t.currentIndex].url),t.playing=!0,t.audioelement.load(),t.audioelement.play()},playEnded:function(t){var e=t.playType;if(1===e){t.currentIndex++;var n=t.musicList.length;t.currentIndex>=n&&(t.currentIndex=0),t.audioelement.setAttribute("src",t.musicList[t.currentIndex].url),t.playing=!0,t.audioelement.load(),t.audioelement.play()}if(2===e&&(t.audioelement.currentTime=0,t.playing=!0,t.audioelement.play()),3===e){var i=t.musicList.length;t.currentIndex=Math.floor(Math.random()*i),t.audioelement.setAttribute("src",t.musicList[t.currentIndex].url),t.playing=!0,t.audioelement.load(),t.audioelement.play()}4===e&&(t.audioelement.currentTime=0,t.playing=!1,t.audioelement.pause())},setCurrentTime:function(t,e){t.currentTime=e.time,t.audioelement.currentTime=e.time},setMusicDuration:function(t,e){t.musicDuration=e.duration}},V={set_MusicDuration:function(t,e){var n=t.commit;console.log("可以播放了，设置时长",e),n("setMusicDuration",e)},set_CurrentTime:function(t,e){(0,t.commit)("setCurrentTime",e)}};i.default.use(C.a);var k=new C.a.Store({state:{audioelement:null,currentSong:{id:-1,src:"",img:"",singer:{},name:"",lyric:""},showMusicDetail:!1,showSongSheet:!1,currentIndex:0,lyricIndex:-1,playing:!1,playType:2,currentTime:0,musicDuration:0,musicList:[]},mutations:T,getter:{getSongSrc:function(t){return t.currentSong.src},getSinger:function(t){return t.currentSong.singer},getImg:function(t){return t.currentSong.img},getName:function(t){return t.currentSong.name},getLyric:function(t){return t.currentSong.lyric},getAudioElement:function(t){return t.audioelement},getCurrentTime:function(t){return t.audioelement.currentTime}},actions:V}),M=n("//Fk"),E=n.n(M),L=n("mtWM"),A=n.n(L);A.a.defaults.timeout=8e3,A.a.defaults.baseURL="https://localhost",A.a.interceptors.request.use(function(t){return t.xhrFields={withCredentials:!0},t},function(t){return E.a.reject(t)}),A.a.interceptors.response.use(function(t){if(999!==t.data.errno)return t;console.log("非正常响应",t)},function(t){return E.a.reject(t)});var F=A.a,D=n("u64Q"),U=n.n(D),j=(n("E51W"),n("gjGc")),z=n.n(j),R="http://www.supersy.xyz:4000",N={musicApi:{wangyiApi:"https://api.imjad.cn/cloudmusic/",auth:{login:R+"/login/cellphone",loginRefresh:R+"/login/refresh"},user:{userDetail:R+"/user/subcount",subcount:R+"/user/subcount",updateUser:R+"/user/subcount",playlist:R+"/user/playlist",playlistUp:R+"/playlist/update",dj:R+"/user/dj",follows:R+"/user/follows",followeds:R+"/user/followeds",event:R+"/user/event",record:R+"/user/record",sign:R+"/daily_signin"},singerAbout:{list:R+"/artist/list",sub:R+"/artist/sub",unsub:R+"/artist/unsub",sublist:R+"/artist/sublist"},playlist:{catlist:R+"/playlist/catlist",hot:R+"/playlist/hot",toplist:R+"/top/playlist",highquality:R+"/top/playlist/highquality",detail:R+"/playlist/detail",created:R+"/playlist/create",sub:R+"/playlist/subscribe",tracks:R+"/playlist/tracks",simi:R+"/simi/playlist"},music:{url:R+"/music/url",spareUrl:function(t){return"http://music.163.com/song/media/outer/url?id="+t+".mp3"},lyric:R+"/lyric",detail:R+"/song/detail",simi:R+"/simi/song",simiUser:R+"/simi/user",like:R+"/like"},serarch:{serarch:R+"/search",hot:R+"/search/hot"},comment:{music:R+"/comment/music",album:R+"/comment/album",playlist:R+"/comment/playlist",dj:R+"/comment/dj",like:R+"comment/like"},resource:{banner:R+"/banner",recommendList:R+"/recommend/resource",recommendSong:R+"/recommend/songs"},album:R+"/album",singer:{artists:R+"/artists",album:R+"/artist/album",desc:R+"/artist/desc",simi:R+"/simi/artist"},top:{abbum:R+"/top/album",artists:R+"/top/artists",list:R+"/top/list"},personalized:{personalized:R+"/personalized",newsong:R+"/personalized/newsong",recommend:R+"/program/recommend",privatecontent:R+"/personalized/privatecontent"}}},H=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm";t=new Date(t),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var i in n){var a=n[i]+"";new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a:function(t){return("00"+t).substr(t.length)}(a)))}return e};i.default.config.productionTip=!1,i.default.prototype.$http=F,i.default.prototype.formatDate=H,i.default.prototype.globarVar_=N,i.default.filter("formatDate",H),z.a.add("teal",{primary:"#E5463B",secondary:"#ff4081",success:"#4caf50",warning:"#ffeb3b"},"light"),z.a.use("teal"),i.default.use(U.a),i.default.component(r),new i.default({el:"#app",router:$,store:k,template:"<App/>",components:{App:l}})},PIUZ:function(t,e){},VC3l:function(t,e){},gpQL:function(t,e,n){t.exports=n.p+"static/img/cd-mine.add69a3.png"},"jb+3":function(t,e){},kdwH:function(t,e){},vHp9:function(t,e,n){t.exports=n.p+"static/img/indicator.98d5134.png"},vdw8:function(t,e){},wjBU:function(t,e){}},["NHnr"]);